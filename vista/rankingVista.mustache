<link rel="stylesheet" href="/assets/css/ranking.css">

<div class="background">
    <div class="circle c1"></div>
    <div class="circle c2"></div>
    <div class="circle c3"></div>
    <div class="circle c4"></div>
</div>

<div class="container ranking-container">
    <div class="ranking-header">
        <h1>üèÜ Ranking Global</h1>
        <p class="subtitle">Los mejores jugadores de TriviaGO</p>
        {{#posicionUsuario}}
            <div class="user-position">
                Tu posici√≥n actual: <strong>#{{posicionUsuario}}</strong>
            </div>
        {{/posicionUsuario}}
    </div>

    <div class="ranking-table">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th style="width: 80px;">Posici√≥n</th>
                    <th style="width: 80px;">Avatar</th>
                    <th>Usuario</th>
                    <th>Pa√≠s</th>
                    <th>Partidas</th>
                    <th>Puntaje</th>
                    <th style="width: 100px;">Acci√≥n</th>
                </tr>
            </thead>
            <tbody>
                {{#jugadores}}
                <tr class="{{#esUsuarioActual}}current-user{{/esUsuarioActual}}">
                    <td class="position-cell">
                        {{#esPrimero}}
                            <span class="medal gold">ü•á</span>
                        {{/esPrimero}}
                        {{#esSegundo}}
                            <span class="medal silver">ü•à</span>
                        {{/esSegundo}}
                        {{#esTercero}}
                            <span class="medal bronze">ü•â</span>
                        {{/esTercero}}
                        {{^esTopTres}}
                            <span class="position-number">{{posicion}}</span>
                        {{/esTopTres}}
                    </td>
                    <td>
                        <img src="/{{foto_perfil}}" alt="Avatar" class="avatar-small" onerror="this.src='/assets/img/default-avatar.png'">
                    </td>
                    <td class="username-cell">
                        <strong>{{nombre_usuario}}</strong>
                        <br>
                        <small class="text-muted">{{nombre_completo}}</small>
                    </td>
                    <td>
                        <span class="country-badge">{{pais}}</span>
                    </td>
                    <td class="text-center">
                        <span class="badge bg-info">{{partidas_jugadas}}</span>
                    </td>
                    <td class="score-cell">
                        <span class="score-badge">{{puntaje_total}}</span>
                    </td>
                    <td>
                        <a href="/ranking/perfil?id={{id_usuario}}" class="btn btn-sm btn-primary">
                            Ver Perfil
                        </a>
                    </td>
                </tr>
                {{/jugadores}}
            </tbody>
        </table>
    </div>

    <div class="text-center mt-4">
        <a href="/inicio/" class="btn btn-secondary btn-custom mb-3">Volver al Inicio</a>
    </div>
</div>

<script>
   const idUsuarioActual = {{idUsuarioActual}};
</script>
<script src="/assets/js/ranking.js"></script>